<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>task 17 </h1>
    <h2>
        16. Танчики. На полі з 10 клітинок розміщують танк.
        За один крок танк може переміщуватися на відстань від 0 до 1 у будь-якому напрямку (в межах поля).
        При влучанні броня танка пошкоджується на 30 балів (всього 100).
        Гра продовжується поки або не закінчаться снаряди (кількість вводиться з клавіатури) або не буде влучання.
        Спробуйте відоразити гру графічно.
        17.Спробуйте модифікувати попередню гру для випадку,
        коли танк також може стріляти по вашій гарматі (ваша гармата також знаходиться на цьому ж полі).
    </h2>
    <script>
        const fieldSize = 10
        let armor = 100
        let tankPosition = 1 + Math.floor(Math.random() * (fieldSize - 1 + 1))
        alert(tankPosition)
        let userAmmunition = parseInt(prompt('Вкажіть кількість снарядів'))
        let userShot, myCheckShotResult, tankShot, tankCheckShotResult
        //========================================================================================================================================================
        let myTankArmor = 100
        let myTankPosition = 1 + Math.floor(Math.random() * (fieldSize - 1 + 1))
        //========================================================================================================================================================

        do {
            userShot = parseInt(prompt('введіть кітинку пострілу'))
            tankShot = 1 + Math.floor(Math.random() * (fieldSize - 1 + 1))
            // alert(tankShot)
            userAmmunition--
            tankCheckShotResult = tankShot === myTankPosition
            myCheckShotResult = userShot === tankPosition
            if (userShot >= 1 && userShot <= 10) {
                if (tankCheckShotResult) {
                    myTankArmor -= 30
                    alert(`танк влучиd. залишилось ${myTankArmor} вашої броні`)
                }
                if (myTankArmor < 0) {
                    alert('ваш танк знищено')
                    break
                }
                if (myCheckShotResult) {
                    armor -= 30
                    alert(`ви влучили. залишилось ${armor} броні`)
                    tankPosition = tankPosition - 1 + Math.floor(Math.random() * (tankPosition + 1) - (tankPosition - 1) + 1);
                    alert(tankPosition)
                } else {
                    tankPosition = tankPosition - 1 + Math.floor(Math.random() * (tankPosition + 1) - (tankPosition - 1) + 1);
                    alert(tankPosition)
                    alert('не влучили спробуйте ще раз')
                }

            } else {
                alert('Некоректна позиція пострілу. Спробуйте ще раз')
            }

        } while (userAmmunition > 0 && armor > 0);
        if (armor <= 0) alert('перемога')
        else alert('програш')

    </script>
</body>

</html>