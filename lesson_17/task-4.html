<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>task 4 </h1>
    <h2>

    </h2>
    Особиста бібліотека.
    Картотека домашньої бібліотеки:
    дані книги (автори (піб, рік народження, короткий опис),

    назва книги, жанр, видавництво (назва, реєстраційний номер, рік засування)).

    Реалізувати розділи бібліотеки організувати додавання/вилучення книг та
    вибір книг за назвою, за ПІБ автора, за видавництвом.

    <script>
        class Library {
            constructor(initData) {
                Object.assign(this, initData)
            }
            addBook(book) {
                this.bookList.push(book)
            }
            removeBook(bookTitle) {
                this.bookList = this.bookList.filter(book => bookTitle !== book.title)
            }
            filterByTitle(bookTitle) {
                this.bookList = this.bookList.filter(book => book.title === bookTitle)
            }
            filterByPIB(authorFirstName, authorLastName) {
                this.bookList = this.bookList.filter(book => book.author.firstName === authorFirstName && book.author.lastName === authorLastName)
            }
            filterByPublisher(publisherName) {
                this.bookList = this.bookList.filter(book => book.publisher.name === publisherName)
            }
            removeBookByPIB(authorFirstName, authorLastName) {
                this.bookList = this.bookList.filter(book => book.author.firstName !== authorFirstName && book.author.lastName !== authorLastName)
            }
            removeByPublisher(publisherName) {
                this.bookList = this.bookList.filter(book => book.publisher.name !== publisherName)
            }
        }
        class Book {
            constructor(initData) {
                this.author = new BookAuthor(initData)
                this.publisher = new BookPublisher(initData)
                this.title = initData.title
                this.genre = initData.genre
            }
            toString() {
                return `${this.title}`
            }

        }
        class BookAuthor {
            constructor(initData) {
                this.firstName = initData.firstName
                this.lastName = initData.lastName
                this.year = initData.authorYear
                this.description = initData.authorDescription
            }
        }

        class BookPublisher {
            constructor(initData) {
                this.name = initData.publisherName
                this.registrationNumber = initData.registrationNumber
                this.yearEstablished = initData.yearEstablished
            }
        }
        let bookList = [
            new Book({
                title: 'Book 1',
                genre: 'Adventure',
                firstName: 'John',
                lastName: 'Doe',
                authorYear: 1985,
                authorDescription: 'A thrilling adventure story.',
                publisherName: 'Publisher A',
                registrationNumber: '12345',
                yearEstablished: 2000,
            }),
            new Book({
                title: 'Book 2',
                genre: 'Romance',
                firstName: 'Jane',
                lastName: 'Smith',
                authorYear: 1990,
                authorDescription: 'A heartwarming love story.',
                publisherName: 'Publisher B',
                registrationNumber: '67890',
                yearEstablished: 2010,
            }),
            new Book({
                title: 'Book 3',
                genre: 'Mystery',
                firstName: 'Michael',
                lastName: 'Johnson',
                authorYear: 1978,
                authorDescription: 'A gripping mystery novel.',
                publisherName: 'Publisher C',
                registrationNumber: '54321',
                yearEstablished: 1995,
            }),

        ]
        let library = new Library({ title: 'my', bookList })
        console.log(library)
        // library.removeBook('Book 1')
        // console.log(library)
        // library.addBook(
        //     new Book({
        //         title: 'Book 4',
        //         genre: 'Adventure',
        //         firstName: 'John',
        //         lastName: 'Doe',
        //         authorYear: 1988,
        //         authorDescription: 'A thrilling adventure story.',
        //         publisherName: 'Publisher c',
        //         registrationNumber: '123545',
        //         yearEstablished: 2004,
        //     })
        // )
        // console.log(library)
        // library.filterByTitle('Book 2')
        // console.log(library)
        // library.filterByPIB('John', 'Doe')
        // console.log(library)
        library.removeByPublisher('Publisher B')
        console.log(library)
    </script>
</body>

</html>