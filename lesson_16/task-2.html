<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <h1>task 2</h1>
    <h2>
        Задача 2. Створити клас TMoney для роботи з грошовими сумами.

        Сума повинна зберігатися у вигляді доларового еквіваленту.

        Реалізувати методи додавання/вилучення грошової маси, вказуючи необхідну суму у гривнях,
        та визначення курсу долара, при якому сума у гривнях збільшиться на 100.

        Курс долара зберігати в окремому полі.
    </h2>
    <script>
        // ! не на перевірку
        // class TMoney {
        //     constructor(sumMoneyDollars, courseDollar) {
        //         this.sumDollars = sumMoneyDollars,
        //             this.courseDollar = courseDollar
        //     }
        //     addMoney() {
        //         let userMoney = parseFloat(prompt('Введіть суму поповнення у гривнях'))
        //         let change = userMoney / this.courseDollar
        //         this.sumDollars += change
        //     }
        //     withdrawalMoney() {
        //         let userMoney = parseFloat(prompt('Введіть суму вилучення у гривнях'))
        //         let change = userMoney / this.courseDollar
        //         this.sumDollars -= change
        //         if (this.sumDollars < 0) throw new Error('Помилка ')
        //     }
        //     getAmountInUSD() {
        //         return this.sumDollars
        //     }
        //     getMoneyInUAH() {
        //         return this.sumDollars * this.courseDollar
        //     }
        //     determineExchangeRateForIncrease() {
        //         const amountInUAHAfterIncrease = this.getMoneyInUAH() + 100
        //         const newExchangeRate = amountInUAHAfterIncrease / this.sumDollars
        //         return newExchangeRate
        //     }
        //     toString() {
        //         return `Сума ${this.sumDollars.toFixed(2)}  курс: ${this.courseDollar}`
        //     }
        // }
        // let money = new TMoney(200, 40)
        // document.write(`${money}<br>`)
        // console.log(money.determineExchangeRateForIncrease())
        // money.addMoney()
        // document.write(`${money}<br>`)
        // money.withdrawalMoney()
        // document.write(`${money}<br>`)
        // document.write(`${money.getMoneyInUAH().toFixed(2)}<br>`)

        class TMoney {
            #dollarBalance
            constructor(sumGRNBalance, dollarRate) {
                this.dollarRate = dollarRate
                this.Balance = sumGRNBalance
            }
            get Balance() {
                return this.#dollarBalance * this.dollarRate
            }
            set Balance(grnSum) {
                if (grnSum < 0) throw new Error('error')
                this.#dollarBalance = grnSum / this.dollarRate
            }
            addMoney(grnSum) {
                if (grnSum < 0) throw new Error('error')
                return this.Balance += grnSum
            }
            getMoney(grnSum) {
                if (grnSum < 0) throw new Error('error')
                if (grnSum > this.Balance) throw new Error('error')
                return this.Balance -= grnSum
            }
            getTarget100Rate() {
                return (this.Balance + 100) / this.#dollarBalance
            }
            toString() {
                return `${this.Balance}`
            }
        }
        let money = new TMoney(4000, 40)
        document.write(`${money}<br>`)
        console.log(money.addMoney(40))
        console.log(money.getMoney(80))
        console.log(money.getTarget100Rate())



    </script>
</body>

</html>